(this.webpackJsonpshopify_spacetagram=this.webpackJsonpshopify_spacetagram||[]).push([[0],{27:function(t,e,s){},39:function(t,e,s){},40:function(t,e,s){},42:function(t,e,s){},43:function(t,e,s){"use strict";s.r(e);var n=s(1),a=s.n(n),r=s(8),o=s.n(r),c=(s(27),s(3)),i=s.n(c),l=s(2),h=s(4),p=s(9),d=s(10),j=s(11),u=s(13),b=s(12),O="fUwiBPvvBwZXfky5QXVrVsSlOmRHlLQXnnZv03dI";function f(t){return x.apply(this,arguments)}function x(){return(x=Object(h.a)(i.a.mark((function t(e){var s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return s=t.sent,t.next=5,s.json();case 5:if(n=t.sent,s.ok){t.next=8;break}throw n;case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return m.apply(this,arguments)}function m(){return(m=Object(h.a)(i.a.mark((function t(e){var s,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="https://api.nasa.gov/mars-photos/api/v1/manifests/".concat(e,"/?api_key=").concat(O),t.next=3,f(s);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t,e){return k.apply(this,arguments)}function k(){return(k=Object(h.a)(i.a.mark((function t(e,s){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://api.nasa.gov/mars-photos/api/v1/rovers/".concat(e,"/photos?sol=").concat(s,"&api_key=").concat(O),t.next=3,f(n);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var P=s(22),y=(s(39),s(40),s(0));function _(t){return Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:"Select a rover"}),Object(y.jsx)("ul",{className:"rover-list",children:t.rovers.map((function(e,s){return Object(y.jsx)("li",{className:e===t.rover.name?"current":"",onClick:function(){return t.handleSelectRover(e)},children:e},s)}))})]})}function S(t){return Object(y.jsx)(y.Fragment,{children:t.rover.name&&Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{children:t.rover.name}),Object(y.jsxs)("p",{children:["Launch date: ",Object(y.jsx)("span",{children:t.rover.launch_date})]}),Object(y.jsxs)("p",{children:["Landing date: ",Object(y.jsx)("span",{children:t.rover.landing_date})]}),Object(y.jsxs)("p",{children:["Latest day with photos: ",Object(y.jsx)("span",{children:t.rover.max_date})]}),Object(y.jsxs)("p",{children:["Martian days (Sols) with photos: ",Object(y.jsx)("span",{children:t.rover.max_sol})]}),Object(y.jsxs)("p",{children:["Status: ",Object(y.jsx)("span",{children:t.rover.status})]}),Object(y.jsxs)("p",{children:["Total Photos: ",Object(y.jsx)("span",{children:t.rover.total_photos})]}),Object(y.jsxs)("form",{onSubmit:t.handleRequestPhotos,children:[Object(y.jsx)("label",{htmlFor:"solPicker",children:"Show me photos from Sol day:"}),Object(y.jsxs)("span",{children:[Object(y.jsx)("input",{type:"number",id:"solPicker",name:"solPicker",min:"0",max:t.rover.max_sol,value:t.solPicker,onChange:t.handleChange,required:!0}),Object(y.jsx)("button",{className:"bg-white",type:"submit",children:"Go"})]})]})]})})}function w(t){return Object(y.jsx)(y.Fragment,{children:"number"===typeof t.sol&&Object(y.jsxs)("div",{children:[Object(y.jsxs)("h2",{children:["Sol ",t.sol]}),t.solInfo.empty?Object(y.jsx)("p",{children:"No photos from this date"}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("p",{children:["Earth Date: ",Object(y.jsx)("span",{children:t.solInfo.earth_date})]}),Object(y.jsxs)("p",{children:["Total Photos: ",Object(y.jsx)("span",{children:t.solInfo.total_photos})]}),Object(y.jsx)("h3",{children:"Cameras in use:"}),Object(y.jsx)("ul",{children:t.solInfo.cameras.map((function(t,e){return Object(y.jsx)("li",{children:t},e)}))})]})]})})}function C(t){return Object(y.jsxs)(y.Fragment,{children:[t.slice>0&&Object(y.jsx)("button",{onClick:function(){return t.handleLoadMore(-1)},children:"Previous page"}),t.sliceEnd!==t.solInfo.total_photos&&Object(y.jsx)("button",{onClick:function(){return t.handleLoadMore(1)},children:"Next page"})]})}s(42);var I=function(t){Object(u.a)(s,t);var e=Object(b.a)(s);function s(){var t;Object(d.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={loaded:!1},t}return Object(j.a)(s,[{key:"render",value:function(){var t=this;return Object(y.jsxs)("li",{children:[Object(y.jsxs)("figure",{className:this.state.loaded?null:"loading",children:[Object(y.jsx)("img",{onLoad:function(){return t.setState({loaded:!0})},src:this.props.p.img_src,alt:"Mars rover ".concat(this.props.rover.name," photo id ").concat(this.props.p.id,", taken with ").concat(this.props.p.camera.full_name," on ").concat(this.props.p.earth_date)}),Object(y.jsxs)("figcaption",{children:[Object(y.jsxs)("div",{children:["ID: ",this.props.p.id]}),Object(y.jsxs)("div",{children:["Camera: ",this.props.p.camera.full_name]}),Object(y.jsxs)("div",{children:["Earth Date: ",this.props.p.earth_date]})]})]}),Object(y.jsx)("button",{onClick:function(e){return t.props.handleClickLike(t.props.p.id)},style:this.props.likes[this.props.p.id]?{backgroundColor:"pink",color:"black"}:{},children:this.props.likes[this.props.p.id]?"Unlike":"Like"})]})}}]),s}(n.Component),L=function(t){Object(u.a)(s,t);var e=Object(b.a)(s);function s(){var t;Object(d.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={rovers:["Curiosity","Perseverance","Opportunity","Spirit"],rover:{name:"",landing_date:"",launch_date:"",max_date:"",max_sol:"",photos:[],status:"",total_photos:""},solInfo:{empty:!0},solPicker:0,sol:"",photos:[],slice:0,likes:{},photosPerPage:8},t.handleChange=function(e){t.setState(Object(p.a)({},e.target.name,parseInt(e.target.value)))},t.handleRequestPhotos=function(){var e=Object(h.a)(i.a.mark((function e(s){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),t.setState({sol:t.state.solPicker}),"undefined"!==typeof(n=t.state.rover.photos.find((function(e){return e.sol===t.state.solPicker})))){e.next=7;break}t.setState({solInfo:{empty:!0},photos:[]}),e.next=16;break;case 7:return t.setState({solInfo:Object(l.a)({empty:!1},n),loading:!0}),e.next=10,g(t.state.rover.name,t.state.sol);case 10:if((a=e.sent).length===t.state.solInfo.total_photos){e.next=15;break}return e.next=14,g(t.state.rover.name,t.state.sol);case 14:a=e.sent;case 15:t.setState({loading:!1,photos:a.photos,slice:0,sliceEnd:t.state.photosPerPage>t.state.solInfo.total_photos?t.state.solInfo.total_photos:t.state.photosPerPage});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleLoadMore=function(e){t.state.sliceEnd===t.state.solInfo.total_photos?t.setState({slice:t.state.slice-t.state.photosPerPage,sliceEnd:t.state.slice}):t.setState({slice:t.state.slice+t.state.photosPerPage*e,sliceEnd:t.state.sliceEnd+t.state.photosPerPage*e>t.state.solInfo.total_photos?t.state.solInfo.total_photos:t.state.sliceEnd+t.state.photosPerPage*e})},t.handleSelectRover=function(){var e=Object(h.a)(i.a.mark((function e(s){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(s);case 2:n=e.sent,t.setState({rover:n.photo_manifest,photos:[],slice:0,sol:""});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleClickLike=function(e){var s=t.state.likes;s[e]=!s[e],t.setState({likes:s})},t}return Object(j.a)(s,[{key:"render",value:function(){var t=this;return Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{children:"Spacestagram"}),Object(y.jsxs)("header",{children:[Object(y.jsx)(_,Object(l.a)(Object(l.a)({},this.state),{},{handleSelectRover:this.handleSelectRover})),Object(y.jsx)(S,Object(l.a)(Object(l.a)({},this.state),{},{handleRequestPhotos:this.handleRequestPhotos,handleChange:this.handleChange})),Object(y.jsx)(w,Object(l.a)({},this.state))]}),Object(y.jsxs)("main",{id:"main",children:[this.state.photos.length>0&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("p",{children:["Sol ",this.state.sol," | Photos ",this.state.slice+1," - ",this.state.sliceEnd," | Page ",Math.ceil(this.state.sliceEnd/this.state.photosPerPage),"/",Math.ceil(this.state.solInfo.total_photos/this.state.photosPerPage)]}),Object(y.jsx)(C,Object(l.a)(Object(l.a)({},this.state),{},{handleLoadMore:this.handleLoadMore}))]}),Object(y.jsx)("ul",{children:this.state.loading?Array.from(Array(this.state.photosPerPage)).map((function(t,e){return Object(y.jsxs)("li",{className:"loading",children:[Object(y.jsx)("div",{}),Object(y.jsx)("div",{}),Object(y.jsx)("div",{}),Object(y.jsx)("div",{}),Object(y.jsx)("div",{})]},e)})):this.state.photos.slice(this.state.slice,this.state.sliceEnd).map((function(e){return Object(y.jsx)(I,Object(l.a)(Object(l.a)({},t.state),{},{p:e,handleClickLike:t.handleClickLike}),e.id)}))}),this.state.photos.length>0&&Object(y.jsx)(P.Link,{to:"main",spy:!1,smooth:!0,children:Object(y.jsx)(C,Object(l.a)(Object(l.a)({},this.state),{},{handleLoadMore:this.handleLoadMore}))})]})]})}}]),s}(n.Component),E=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,44)).then((function(e){var s=e.getCLS,n=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;s(t),n(t),a(t),r(t),o(t)}))};o.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(L,{})}),document.getElementById("root")),E()}},[[43,1,2]]]);
//# sourceMappingURL=main.83d1bb08.chunk.js.map