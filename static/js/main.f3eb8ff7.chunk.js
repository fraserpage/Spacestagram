(this.webpackJsonpshopify_spacetagram=this.webpackJsonpshopify_spacetagram||[]).push([[0],{16:function(t,e,s){},18:function(t,e,s){},20:function(t,e,s){"use strict";s.r(e);var a=s(3),n=s.n(a),r=s(7),o=s.n(r),c=(s(16),s(1)),i=s.n(c),l=s(4),h=s(2),d=s(5),p=s(8),j=s(9),u=s(11),b=s(10),f="fUwiBPvvBwZXfky5QXVrVsSlOmRHlLQXnnZv03dI";function x(t){return O.apply(this,arguments)}function O(){return(O=Object(h.a)(i.a.mark((function t(e){var s,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return s=t.sent,t.next=5,s.json();case 5:if(a=t.sent,s.ok){t.next=8;break}throw a;case 8:return t.abrupt("return",a);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(i.a.mark((function t(e){var s,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="https://api.nasa.gov/mars-photos/api/v1/manifests/".concat(e,"/?api_key=").concat(f),t.next=3,x(s);case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t,e){return k.apply(this,arguments)}function k(){return(k=Object(h.a)(i.a.mark((function t(e,s){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://api.nasa.gov/mars-photos/api/v1/rovers/".concat(e,"/photos?sol=").concat(s,"&api_key=").concat(f),t.next=3,x(a);case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}s(18);var P=s(0);function y(t){return Object(P.jsxs)(P.Fragment,{children:[t.slice>0&&Object(P.jsx)("button",{onClick:function(){return t.handleLoadMore(-1)},children:"Previous page"}),t.sliceEnd!==t.solInfo.total_photos&&Object(P.jsx)("button",{onClick:function(){return t.handleLoadMore(1)},children:"Next page"})]})}var _=function(t){Object(u.a)(s,t);var e=Object(b.a)(s);function s(){var t;Object(p.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={rovers:["Curiosity","Perseverance","Opportunity","Spirit"],rover:{name:"",landing_date:"",launch_date:"",max_date:"",max_sol:"",photos:[],status:"",total_photos:""},solInfo:{empty:!0},solPicker:0,sol:"",photos:[],slice:0,likes:{},photosPerPage:8},t.handleChange=function(e){t.setState(Object(d.a)({},e.target.name,parseInt(e.target.value)))},t.handleRequestPhotos=function(){var e=Object(h.a)(i.a.mark((function e(s){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),t.setState({sol:t.state.solPicker}),"undefined"!==typeof(a=t.state.rover.photos.find((function(e){return e.sol===t.state.solPicker})))){e.next=7;break}t.setState({solInfo:{empty:!0},photos:[]}),e.next=16;break;case 7:return t.setState({solInfo:Object(l.a)({empty:!1},a),loading:!0}),e.next=10,g(t.state.rover.name,t.state.sol);case 10:if((n=e.sent).length===t.state.solInfo.total_photos){e.next=15;break}return e.next=14,g(t.state.rover.name,t.state.sol);case 14:n=e.sent;case 15:t.setState({loading:!1,photos:n.photos,slice:0,sliceEnd:t.state.photosPerPage>t.state.solInfo.total_photos?t.state.solInfo.total_photos:t.state.photosPerPage});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleLoadMore=function(e){t.state.sliceEnd===t.state.solInfo.total_photos?t.setState({slice:t.state.slice-t.state.photosPerPage,sliceEnd:t.state.slice}):t.setState({slice:t.state.slice+t.state.photosPerPage*e,sliceEnd:t.state.sliceEnd+t.state.photosPerPage*e>t.state.solInfo.total_photos?t.state.solInfo.total_photos:t.state.sliceEnd+t.state.photosPerPage*e})},t.handleSelectRover=function(){var e=Object(h.a)(i.a.mark((function e(s){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(s);case 2:a=e.sent,t.setState({rover:a.photo_manifest,photos:[],slice:0,sol:""});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleClickLike=function(e){var s=t.state.likes;s[e]=!s[e],t.setState({likes:s})},t}return Object(j.a)(s,[{key:"render",value:function(){var t=this;return Object(P.jsxs)("div",{children:[Object(P.jsx)("h1",{children:"Spacestagram"}),Object(P.jsxs)("header",{children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("h2",{children:"Select a rover"}),Object(P.jsx)("ul",{className:"rover-list",children:this.state.rovers.map((function(e,s){return Object(P.jsx)("li",{className:e===t.state.rover.name?"current":"",onClick:function(){return t.handleSelectRover(e)},children:e},s)}))})]}),this.state.rover.name&&Object(P.jsxs)("div",{children:[Object(P.jsx)("h2",{children:this.state.rover.name}),Object(P.jsxs)("p",{children:["Launch date: ",Object(P.jsx)("span",{children:this.state.rover.launch_date})]}),Object(P.jsxs)("p",{children:["Landing date: ",Object(P.jsx)("span",{children:this.state.rover.landing_date})]}),Object(P.jsxs)("p",{children:["Latest day with photos: ",Object(P.jsx)("span",{children:this.state.rover.max_date})]}),Object(P.jsxs)("p",{children:["Martian days (Sols) with photos: ",Object(P.jsx)("span",{children:this.state.rover.max_sol})]}),Object(P.jsxs)("p",{children:["Status: ",Object(P.jsx)("span",{children:this.state.rover.status})]}),Object(P.jsxs)("p",{children:["Total Photos: ",Object(P.jsx)("span",{children:this.state.rover.total_photos})]}),Object(P.jsxs)("form",{onSubmit:this.handleRequestPhotos,children:[Object(P.jsx)("label",{for:"solPicker",children:"Show me photos from Sol day:"}),Object(P.jsxs)("span",{children:[Object(P.jsx)("input",{type:"number",id:"solPicker",name:"solPicker",min:"0",max:this.state.rover.max_sol,value:this.state.solPicker,onChange:this.handleChange,required:!0}),Object(P.jsx)("button",{className:"bg-white",type:"submit",children:"Go"})]})]})]}),"number"===typeof this.state.sol&&Object(P.jsxs)("div",{children:[Object(P.jsxs)("h2",{children:["Sol ",this.state.sol]}),this.state.solInfo.empty?Object(P.jsx)("p",{children:"No photos from this date"}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("p",{children:["Earth Date: ",Object(P.jsx)("span",{children:this.state.solInfo.earth_date})]}),Object(P.jsxs)("p",{children:["Total Photos: ",Object(P.jsx)("span",{children:this.state.solInfo.total_photos})]}),Object(P.jsx)("h3",{children:"Cameras in use:"}),Object(P.jsx)("ul",{children:this.state.solInfo.cameras.map((function(t,e){return Object(P.jsx)("li",{children:t},e)}))})]})]})]}),Object(P.jsxs)("main",{children:[this.state.loading&&Object(P.jsx)("div",{className:"loading",children:"Loading..."}),this.state.photos.length>0&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("p",{children:["Sol ",this.state.sol," | Photos ",this.state.slice+1," - ",this.state.sliceEnd," | Page ",Math.ceil(this.state.sliceEnd/this.state.photosPerPage),"/",Math.ceil(this.state.solInfo.total_photos/this.state.photosPerPage)]}),Object(P.jsx)(y,Object(l.a)(Object(l.a)({},this.state),{},{handleLoadMore:this.handleLoadMore}))]}),Object(P.jsx)("ul",{children:this.state.photos.slice(this.state.slice,this.state.sliceEnd).map((function(e){return Object(P.jsxs)("li",{children:[Object(P.jsx)("img",{src:e.img_src,alt:"Mars rover ".concat(t.state.rover.name," photo id ").concat(e.id,", taken with ").concat(e.camera.full_name," on ").concat(e.earth_date)}),Object(P.jsxs)("p",{children:["ID: ",e.id]}),Object(P.jsxs)("p",{children:["Camera: ",e.camera.full_name]}),Object(P.jsxs)("p",{children:["Earth Date: ",e.earth_date]}),Object(P.jsxs)("p",{children:["Sol: ",e.sol]}),Object(P.jsx)("button",{onClick:function(s){return t.handleClickLike(e.id)},style:t.state.likes[e.id]?{backgroundColor:"pink",color:"black"}:{},children:t.state.likes[e.id]?"Unlike":"Like"})]},e.id)}))}),this.state.photos.length>0&&Object(P.jsx)(y,Object(l.a)(Object(l.a)({},this.state),{},{handleLoadMore:this.handleLoadMore}))]})]})}}]),s}(a.Component),S=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,21)).then((function(e){var s=e.getCLS,a=e.getFID,n=e.getFCP,r=e.getLCP,o=e.getTTFB;s(t),a(t),n(t),r(t),o(t)}))};o.a.render(Object(P.jsx)(n.a.StrictMode,{children:Object(P.jsx)(_,{})}),document.getElementById("root")),S()}},[[20,1,2]]]);
//# sourceMappingURL=main.f3eb8ff7.chunk.js.map